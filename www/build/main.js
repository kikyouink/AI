webpackJsonp([3],{103:function(t,n,e){"use strict";e.d(n,"a",function(){return o});e(3),e(57),e(58);var o=function(){function t(t,n){this.sentence=t,this.knowledge=n}return t.prototype.getWhen=function(){var t,n=this.sentence.getHED()[0],e=this.sentence.getChildren(n,"VV")[0],o=this.sentence.getSibling(e)[0];if(o){var a=[];a.push(this.knowledge.getTranslation(e.word)),a.push(this.knowledge.getTranslation(o.word)),t=a}else t=this.knowledge.getTranslation(e.word);return console.log("时机:"),console.log(t),t},t.prototype.getFilterCard=function(){var t=this,n="",e=[],o=this.sentence.getFilter("BA","n")[0];this.sentence.getChildren(o,"ATT","n").map(function(n){var o=t.knowledge.getType(n.word);if("suit"==o||"color"==o){var a=t.knowledge.getTranslation(n.word);e.push({type:o,value:a})}});for(var a=e.length;a--;){var i=[e[a].type,e[a].value];n+="get."+i[0]+"(card)=='"+i[1]+"'",a&&(n+="&&")}n="return "+n;var r=new Function("card","player",n);return console.log("卡牌条件:"),console.log(r),r},t.prototype.getSelectCard=function(){var t=this.sentence.getDeprel("QUN")[0].word,n=this.knowledge.getTranslation(t);return console.log("卡牌数量:"),console.log(n),n},t.prototype.getPosition=function(){var t,n=this,e=this.sentence.getFilter("BA","n")[0];return this.sentence.getChildren(e,"ATT","n").map(function(e){"position"==n.knowledge.getType(e.word)&&(t=n.knowledge.getTranslation(e.word))}),t||(t="he"),console.log("卡牌区域:"),console.log(t),t},t.prototype.getViewAs=function(){var t=this.sentence.getHED()[0];this.sentence.getChildren(t,"VOB")},t.prototype.getPrompt=function(){},t.prototype.compile=function(){},t.prototype.start=function(){console.log("开始编写视为技"),this.getWhen(),this.getFilterCard(),this.getSelectCard(),this.getPosition(),this.getViewAs(),this.getPrompt()},t}()},127:function(t,n,e){"use strict";e.d(n,"a",function(){return o});e(3);var o=function(){function t(t){this.http=t}return t.prototype.clear=function(t){t.getContext("2d").clearRect(0,0,t.width,t.height)},t.prototype.resize=function(t,n){t.width=n.offsetWidth},t.prototype.draw=function(t,n,e,o){var a,i;a=80;var r,l=t.getContext("2d");e<o?(i=0,r="right",l.strokeStyle="#488aff"):(i=160,r="left",l.strokeStyle="#ff4848"),l.lineWidth=3,l.beginPath(),l.moveTo(n,a),l.quadraticCurveTo(e,i,o,80),l.stroke(),this.drawArrow(l,e,r)},t.prototype.drawArrow=function(t,n,e){t.beginPath();var o,a,i;"right"==e?(a={x:o=n-10,y:45},i={x:o,y:35},t.strokeStyle="#488aff"):(a={x:o=n+10,y:115},i={x:o,y:125},t.strokeStyle="#ff4848"),t.moveTo(a.x,a.y),t.lineTo(n,(a.y+i.y)/2),t.lineTo(i.x,i.y),t.stroke()},t}()},128:function(t,n,e){"use strict";e.d(n,"a",function(){return o});e(3),e(103),e(57);var o=function(){function t(t,n){this.viewAs=t,this.sentence=n}return t.prototype.create=function(t){console.log("coding...");var n=this.judgeType(t);switch(console.log(t),n){case"viewAs":this.viewAs.start();break;default:this.quit()}},t.prototype.getPassages=function(){},t.prototype.judgeType=function(t){return this.judgeViewAs(t)?"viewAs":this.judgeEnable(t)?"enable":this.judgeTrigger(t)?"trigger":this.quit()},t.prototype.judgeViewAs=function(t){var n=t.some(function(t){return"BA"==t.deprel}),e=this.sentence.getHED()[0];if(n&&"v"==e.postag)return!0},t.prototype.judgeEnable=function(t){return!1},t.prototype.judgeTrigger=function(t){return!1},t.prototype.quit=function(){},t}()},147:function(t,n){function e(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=147},176:function(t,n,e){function o(t){var n=a[t];return n?e.e(n[1]).then(function(){return e(n[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var a={"../pages/ai/ai.module.ngfactory":[249,0],"../pages/book/book.module.ngfactory":[251,1],"../pages/tabs/tabs.module.ngfactory":[250,2]};o.keys=function(){return Object.keys(a)},o.id=176,t.exports=o},212:function(t,n,e){"use strict";function o(t){return r._19(0,[(t()(),r.Z(0,0,null,null,10,"button",[["class","item item-block"],["ion-item",""],["menuClose",""]],null,[[null,"click"]],function(t,n,e){var o=!0;if("click"===n){o=!1!==r._11(t,6).close()&&o}return o},M.b,M.a)),r.Y(1,1097728,null,3,z.a,[E.a,Y.a,r.j,r.z,[2,B.a]],null,null),r._16(335544320,6,{contentLabel:0}),r._16(603979776,7,{_buttons:1}),r._16(603979776,8,{_icons:1}),r.Y(5,16384,null,0,D.a,[],null,null),r.Y(6,16384,null,0,L.a,[V.a],{menuClose:[0,"menuClose"]},null),(t()(),r._18(-1,2,["\n\t\t\t\t"])),(t()(),r.Z(8,0,null,0,1,"ion-icon",[["item-start",""],["role","img"]],[[2,"hide",null]],null,null,null,null)),r.Y(9,147456,[[8,4]],0,q.a,[Y.a,r.j,r.z],{name:[0,"name"]},null),(t()(),r._18(10,2,["","\n\t\t\t"]))],function(t,n){t(n,6,0,"");t(n,9,0,n.context.$implicit.icon)},function(t,n){t(n,8,0,r._11(n,9)._hidden);t(n,10,0,n.context.$implicit.name)})}function a(t){return r._19(0,[(t()(),r.Z(0,0,null,null,26,"ion-menu",[["role","navigation"]],null,null,null,R.b,R.a)),r._14(6144,null,Z.a,null,[I.a]),r.Y(2,245760,null,2,I.a,[V.a,r.j,Y.a,N.a,r.z,H.a,W.l,X.a,J.a],{content:[0,"content"]},null),r._16(335544320,1,{menuContent:0}),r._16(335544320,2,{menuNav:0}),(t()(),r._18(-1,0,["\n\t"])),(t()(),r.Z(6,0,null,0,19,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,G.b,G.a)),r.Y(7,4374528,[[1,4]],0,K.a,[Y.a,N.a,X.a,r.j,r.z,J.a,H.a,r.u,[2,$.a],[2,Q.a]],null,null),(t()(),r._18(-1,1,["\n\t\t"])),(t()(),r.Z(9,0,null,1,0,"div",[["class","bg"]],null,null,null,null,null)),(t()(),r._18(-1,1,["\n\t\t"])),(t()(),r.Z(11,0,null,1,13,"ion-list",[["no-lines",""]],null,null,null,null,null)),r.Y(12,16384,null,0,tt.a,[Y.a,r.j,r.z,N.a,W.l,X.a],null,null),(t()(),r._18(-1,null,["\n\t\t\t"])),(t()(),r.Z(14,0,null,null,6,"ion-list-header",[["class","item"]],null,null,null,M.b,M.a)),r.Y(15,1097728,null,3,z.a,[E.a,Y.a,r.j,r.z,[2,B.a]],null,null),r._16(335544320,3,{contentLabel:0}),r._16(603979776,4,{_buttons:1}),r._16(603979776,5,{_icons:1}),r.Y(19,16384,null,0,nt.a,[Y.a,r.z,r.j,[8,null]],null,null),(t()(),r._18(-1,2,["\n\t\t\t\t菜单\n\t\t\t"])),(t()(),r._18(-1,null,["\n\t\t\t"])),(t()(),r.U(16777216,null,null,1,null,o)),r.Y(23,802816,null,0,et.h,[r.I,r.F,r.p],{ngForOf:[0,"ngForOf"]},null),(t()(),r._18(-1,null,["\n\t\t"])),(t()(),r._18(-1,1,["\n\t"])),(t()(),r._18(-1,0,["\n"])),(t()(),r._18(-1,null,["\n"])),(t()(),r.Z(28,0,null,null,2,"ion-nav",[],null,null,null,ot.b,ot.a)),r._14(6144,null,Z.a,null,[at.a]),r.Y(30,4374528,[["content",4]],0,at.a,[[2,$.a],[2,Q.a],J.a,Y.a,N.a,r.j,r.u,r.z,r.i,W.l,it.a,[2,rt.a],X.a,r.k],{root:[0,"root"]},null)],function(t,n){var e=n.component;t(n,2,0,r._11(n,30));t(n,23,0,e.items);t(n,30,0,e.rootPage)},function(t,n){t(n,6,0,r._11(n,7).statusbarPadding,r._11(n,7)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var i=e(28),r=e(0),l=(e(3),e(54),e(199)),s=e(78),u=e(73),c=e(100),p=e(101),h=e(79),f=e(102),g=e(56),d=e(37),_=function(){return function(t,n,e,o,a){var i=this;this.platform=t,this.statusBar=n,this.http=e,this.appMinimize=o,this.rxjs=a,this.rootPage="TabsPage",this.items=[{icon:"leaf",name:"个人主页",page:"PersonPage"},{icon:"shirt",name:"个性装扮",page:"DressPage"},{icon:"star",name:"我的收藏",page:"StarPage"},{icon:"photos",name:"我的相册",page:"PhotoPage"},{icon:"folder",name:"我的文件",page:"FolderPage"}],t.ready().then(function(){i.platform.is("android")&&(i.http.checkUpdate(),t.registerBackButtonAction(function(){i.appMinimize.minimize()})),i.rxjs.listening()})}}(),b=e(127),y=e(128),m=e(103),v=e(57),k=e(58),w=function(){return function(){}}(),j=e(45),T=e(201),C=e(202),x=e(203),P=e(204),A=e(205),F=e(206),S=e(207),O=e(208),U=e(209),M=e(178),z=e(17),E=e(15),Y=e(1),B=e(42),D=e(67),L=e(98),V=e(22),q=e(35),R=e(247),Z=e(27),I=e(71),N=e(4),H=e(24),W=e(6),X=e(9),J=e(8),G=e(210),K=e(21),$=e(5),Q=e(19),tt=e(50),nt=e(69),et=e(13),ot=e(248),at=e(51),it=e(26),rt=e(14),lt=r.X({encapsulation:2,styles:[],data:{}}),st=r.V("ng-component",_,function(t){return r._19(0,[(t()(),r.Z(0,0,null,null,1,"ng-component",[],null,null,null,a,lt)),r.Y(1,49152,null,0,_,[N.a,s.a,g.a,h.a,d.a],null,null)],null,null)},{},{},[]),ut=e(105),ct=e(200),pt=e(18),ht=e(81),ft=e(91),gt=e(93),dt=e(104),_t=e(33),bt=e(97),yt=e(124),mt=e(47),vt=e(36),kt=e(109),wt=e(64),jt=e(113),Tt=e(107),Ct=e(119),xt=e(198),Pt=e(106),At=e(99),Ft=e(108),St=r.W(w,[j.b],function(t){return r._7([r._8(512,r.i,r.S,[[8,[T.a,C.a,x.a,P.a,A.a,F.a,S.a,O.a,U.a,st]],[3,r.i],r.s]),r._8(5120,r.r,r._15,[[3,r.r]]),r._8(4608,et.k,et.j,[r.r,[2,et.s]]),r._8(5120,r.b,r._1,[]),r._8(5120,r.p,r._9,[]),r._8(5120,r.q,r._12,[]),r._8(4608,i.c,i.q,[et.c]),r._8(6144,r.D,null,[i.c]),r._8(4608,i.f,ut.a,[]),r._8(5120,i.d,function(t,n,e,o,a){return[new i.k(t,n),new i.o(e),new i.n(o,a)]},[et.c,r.u,et.c,et.c,i.f]),r._8(4608,i.e,i.e,[i.d,r.u]),r._8(135680,i.m,i.m,[et.c]),r._8(4608,i.l,i.l,[i.e,i.m]),r._8(5120,ct.a,l.d,[]),r._8(5120,ct.c,l.e,[]),r._8(4608,ct.b,l.c,[ct.a,ct.c]),r._8(5120,r.B,l.f,[i.l,ct.b,r.u]),r._8(6144,i.p,null,[i.m]),r._8(4608,r.G,r.G,[r.u]),r._8(4608,i.h,i.h,[et.c]),r._8(4608,i.i,i.i,[et.c]),r._8(4608,u.h,u.n,[et.c,r.w,u.l]),r._8(4608,u.o,u.o,[u.h,u.m]),r._8(5120,u.a,function(t){return[t]},[u.o]),r._8(4608,u.k,u.k,[]),r._8(6144,u.i,null,[u.k]),r._8(4608,u.g,u.g,[u.i]),r._8(6144,u.b,null,[u.g]),r._8(4608,u.f,u.j,[u.b,r.o]),r._8(4608,u.c,u.c,[u.f]),r._8(4608,pt.k,pt.k,[]),r._8(4608,pt.c,pt.c,[]),r._8(4608,ht.b,l.b,[r.B,i.b]),r._8(4608,ft.a,ft.a,[J.a,Y.a]),r._8(4608,gt.a,gt.a,[J.a,Y.a]),r._8(4608,dt.a,dt.a,[]),r._8(4608,E.a,E.a,[]),r._8(4608,_t.a,_t.a,[N.a]),r._8(4608,H.a,H.a,[Y.a,N.a,r.u,X.a]),r._8(4608,bt.a,bt.a,[J.a,Y.a]),r._8(5120,et.f,yt.c,[et.q,[2,et.a],Y.a]),r._8(4608,et.e,et.e,[et.f]),r._8(5120,mt.b,mt.d,[J.a,mt.a]),r._8(5120,rt.a,rt.b,[J.a,mt.b,et.e,vt.b,r.i]),r._8(4608,kt.a,kt.a,[J.a,Y.a,rt.a]),r._8(4608,wt.a,wt.a,[J.a,Y.a]),r._8(4608,jt.a,jt.a,[J.a,Y.a,rt.a]),r._8(4608,Tt.a,Tt.a,[Y.a,N.a,X.a,J.a,W.l]),r._8(4608,Ct.a,Ct.a,[J.a,Y.a]),r._8(4608,it.a,it.a,[N.a,Y.a]),r._8(4608,s.a,s.a,[]),r._8(4608,b.a,b.a,[u.c]),r._8(4608,c.a,c.a,[]),r._8(4608,p.a,p.a,[]),r._8(4608,d.a,d.a,[Ct.a,gt.a]),r._8(4608,f.a,f.a,[]),r._8(4608,g.a,g.a,[N.a,u.c,c.a,p.a,d.a,f.a]),r._8(4608,k.a,k.a,[d.a]),r._8(4608,v.a,v.a,[k.a]),r._8(4608,m.a,m.a,[v.a,k.a]),r._8(4608,y.a,y.a,[m.a,v.a]),r._8(4608,h.a,h.a,[]),r._8(512,et.b,et.b,[]),r._8(512,r.k,xt.a,[]),r._8(256,Y.b,{},[]),r._8(1024,Pt.a,Pt.b,[]),r._8(1024,N.a,N.b,[i.b,Pt.a,r.u]),r._8(1024,Y.a,Y.c,[Y.b,N.a]),r._8(512,X.a,X.a,[N.a]),r._8(512,V.a,V.a,[]),r._8(512,J.a,J.a,[Y.a,N.a,[2,V.a]]),r._8(512,W.l,W.l,[J.a]),r._8(256,mt.a,{links:[{loadChildren:"../pages/ai/ai.module.ngfactory#AiPageModuleNgFactory",name:"AiPage",segment:"ai",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tabs/tabs.module.ngfactory#TabsPageModuleNgFactory",name:"TabsPage",segment:"tabs",priority:"low",defaultHistory:[]},{loadChildren:"../pages/book/book.module.ngfactory#BookPageModuleNgFactory",name:"BookPage",segment:"book",priority:"low",defaultHistory:[]}]},[]),r._8(512,r.h,r.h,[]),r._8(512,At.a,At.a,[r.h]),r._8(1024,vt.b,vt.c,[At.a,r.o]),r._8(1024,r.c,function(t,n,e,o,a,r,l,s,u,c,p,h,f){return[i.s(t),Ft.a(n),dt.b(e,o),Tt.b(a,r,l,s,u),vt.d(c,p,h,f)]},[[2,r.t],Y.a,N.a,X.a,Y.a,N.a,X.a,J.a,W.l,Y.a,mt.a,vt.b,r.u]),r._8(512,r.d,r.d,[[2,r.c]]),r._8(131584,r.f,r.f,[r.u,r.T,r.o,r.k,r.i,r.d]),r._8(512,r.e,r.e,[r.f]),r._8(512,i.a,i.a,[[3,i.a]]),r._8(512,u.e,u.e,[]),r._8(512,u.d,u.d,[]),r._8(512,pt.j,pt.j,[]),r._8(512,pt.d,pt.d,[]),r._8(512,pt.i,pt.i,[]),r._8(512,yt.a,yt.a,[]),r._8(512,l.a,l.a,[]),r._8(512,w,w,[]),r._8(256,u.l,"XSRF-TOKEN",[]),r._8(256,u.m,"X-XSRF-TOKEN",[]),r._8(256,j.a,_,[]),r._8(256,et.a,"/",[])])});Object(r.M)(),Object(i.j)().bootstrapModuleFactory(St)},37:function(t,n,e){"use strict";e.d(n,"a",function(){return a});e(3);var o=e(40),a=(e.n(o),e(54),function(){function t(t,n){this.toastCtrl=t,this.alertCtrl=n,this.subject=new o.Subject}return t.prototype.sendMsg=function(t,n,e){void 0===n&&(n="toast"),this.subject.next({msg:t,type:n,callback:e})},t.prototype.clearMsg=function(){this.subject.next()},t.prototype.getMsg=function(){return this.subject.asObservable()},t.prototype.listening=function(){var t=this;this.getMsg().subscribe(function(n){"toast"==n.type?t.presentToast(n.msg):t.showConfirm(n.msg,n.callback)})},t.prototype.presentToast=function(t){this.toastCtrl.create({message:t,duration:2500}).present()},t.prototype.showConfirm=function(t,n){this.alertCtrl.create({title:"提示",message:t,buttons:[{text:"取消",handler:function(){}},{text:"确定",handler:function(){n()}}]}).present()},t}())},56:function(t,n,e){"use strict";e.d(n,"a",function(){return o});e(3),e(54),e(100),e(101),e(37),e(102);var o=function(){function t(t,n,e,o,a,i){this.platform=t,this.http=n,this.mhttp=e,this.file=o,this.rxjs=a,this.fileOpener=i,this.basicUrl="https://aip.baidubce.com/rpc/2.0/nlp/v1/depparser?charset=UTF-8&access_token=",this.token="24.9ef1d08dd86089475358c1055f47716a.2592000.1546273111.282335-15004681",this.apiUrl=this.basicUrl+this.token,this.githubUrl="https://raw.githubusercontent.com/q2578443177/AI/master/",this.githubReleaseUrl="https://raw.githubusercontent.com/q2578443177/AI/master/app-debug.apk",this.nodeUrl="http://localhost:3000"}return t.prototype.get=function(t){return this.mhttp.get(t,{},{})},t.prototype.post=function(t){var n,e,o={text:t};return this.platform.is("android")?(n=this.apiUrl,e={"Content-Type":"application/json;charset=utf-8"},this.mhttp.setDataSerializer("json"),this.mhttp.post(n,o,e)):(n=this.nodeUrl,e={headers:{"Content-Type":"application/json"}},this.http.post(n,o,e))},t.prototype.checkVersion=function(t){var n;return n=localStorage.getItem("version")?localStorage.getItem("version"):"0.0.0",t=t.split(".").join(""),n=n.split(".").join(""),parseInt(t)>parseInt(n)},t.prototype.checkUpdate=function(){var t=this;this.get(this.githubUrl+"update.json").then(function(n){n.data=JSON.parse(n.data),console.log(n.data),t.checkVersion(n.data.version)?t.rxjs.sendMsg("有新版本可用，是否更新？","alert",function(){t.downloadFile("AI.apk")}):console.log("无更新")})},t.prototype.downloadFile=function(t){var n=this;console.log(this.file.externalApplicationStorageDirectory);var e=this.file.externalApplicationStorageDirectory+t;this.mhttp.downloadFile(this.githubReleaseUrl,{},{},e).then(function(t){console.log(t.fullPath),n.rxjs.sendMsg("下载完成，是否安装？","alert",function(){n.fileOpener.open(e,"application/vnd.android.package-archive").then(function(){return console.log("File is opened")}).catch(function(t){return console.log("Error opening file",t)})})}).catch(function(t){console.error(t.error)})},t}()},57:function(t,n,e){"use strict";e.d(n,"a",function(){return o});e(3),e(58);var o=function(){function t(t){this.knowledge=t}return t.prototype.receiveJson=function(t){this.json=t},t.prototype.getHED=function(){return this.json.filter(function(t){return 0==t.head})},t.prototype.getParent=function(t){return this.json.filter(function(n){return n.id==t.head})},t.prototype.getChildren=function(t,n,e){return this.json.filter(function(o){return o.head==t.id&&((!n||n==o.deprel)&&(!e||e==o.postag))})},t.prototype.getSibling=function(t){return this.getChildren(t).filter(function(t){return"COO"==t.deprel})},t.prototype.getDeprel=function(t,n){void 0===n&&(n=this.json);return n.filter(function(n){return n.deprel==t})},t.prototype.getFilter=function(t,n){return this.json.filter(function(e){return e.deprel==t&&e.postag==n})},t}()},58:function(t,n,e){"use strict";e.d(n,"a",function(){return o});e(3),e(37);var o=function(){function t(t){this.rxjs=t,this.typeList={suit:["club","diamond","heart","spade"],color:["red","black"],position:["h","e","he"]},this.replaceList=[{reg:"【[一-龥]+】",replacement:"扑克"},{reg:"梅花|草花|方块|方片|红桃|黑桃",replacement:"花色"}],this.translationList={"一":"1","两/二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"使用":"chooseToUse","打出":"chooseToRespond","和/与":"&&","非":"!","红色":"red","黑色":"black","梅花/草花":"club","方块/方片":"diamond","红桃":"heart","黑桃":"spade","杀":"sha","闪":"shan","桃":"tao","万箭齐发":"wanjian","装备":"e","判定":"j","手":"h"}}return t.prototype.getType=function(t){var n;n=/[\u4e00-\u9fa5]+/.test(t)?this.getTranslation(t):t;for(var e in this.typeList)if(this.typeList[e].includes(n))return e},t.prototype.getTranslation=function(t){for(var n in this.translationList)if(n==t||-1!=n.indexOf("/")&&-1!=n.indexOf(t))return this.translationList[n];return console.error("啊哈，没有找到【"+t+"】的翻译..."),this.rxjs.sendMsg("啊哈，没有找到【"+t+"】的翻译..."),t},t.prototype.getReplace=function(t){var n=t;return this.replaceList.map(function(t){n=n.replace(new RegExp(t.reg,"g"),t.replacement+" ")}),n},t}()}},[212]);