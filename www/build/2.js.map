{"version":3,"sources":["../../src/pages/ai/ai.module.ts","../../src/pages/ai/ai.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AiPage } from './ai';\n\n@NgModule({\n  declarations: [\n    AiPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AiPage),\n  ],\n})\nexport class AiPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ai/ai.module.ts","import { Component, ViewChild, ViewChildren, ElementRef } from '@angular/core';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { PainterProvider } from \"../../providers/painter/painter\";\nimport { HttpProvider } from \"../../providers/http/http\";\nimport { CodeProvider } from \"../../providers/code/code\";\nimport { SentenceProvider } from \"../../providers/sentence/sentence\"\nimport { KnowledgeProvider } from \"../../providers/knowledge/knowledge\"\nimport { RxjsProvider } from \"../../providers/rxjs/rxjs\";\nimport { ToastController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n\tselector: 'page-ai',\n\ttemplateUrl: 'ai.html',\n\tanimations: [\n\t\ttrigger('fade', [\n\t\t\tstate('show', style({\n\t\t\t\topacity: 1,\n\t\t\t\ttransform: \"none\",\n\t\t\t})),\n\t\t\tstate('hide', style({\n\t\t\t\topacity: 0,\n\t\t\t\ttransform: \"translateX(15px)\",\n\t\t\t})),\n\t\t\ttransition('hide => show', [\n\t\t\t\tanimate('0.75s ease-out')\n\t\t\t]),\n\t\t])\n\t],\n})\nexport class AiPage {\n\t@ViewChild('mix') mixE: ElementRef;\n\t@ViewChild('text') text: ElementRef;\n\t@ViewChild('canvas') canvasE: ElementRef;\n\t@ViewChild('btnBox') btnBoxE: ElementRef;\n\t@ViewChildren('button') buttons: any;\n\tloading: boolean = false;\n\treceived: boolean = false;\n\tparagraph: any;\n\tcanvas: HTMLCanvasElement;\n\tmix: HTMLDivElement;\n\tbtnBox: HTMLDivElement;\n\tconstructor(\n\t\tpublic navCtrl: NavController,\n\t\tpublic navParams: NavParams,\n\t\tpublic http: HttpProvider,\n\t\tpublic painter: PainterProvider,\n\t\tpublic code: CodeProvider,\n\t\tpublic sentence: SentenceProvider,\n\t\tpublic knowledge: KnowledgeProvider,\n\t\tpublic rxjs: RxjsProvider,\n\t\tpublic toastCtrl: ToastController,\n\n\t) {\n\t\tthis.rxjs\n\t\t\t.getMessage().subscribe(message => {\n\t\t\t\tconsole.log(message.text);\n\t\t\t\tthis.presentToast(message.text)\n\t\t\t});\n\t}\n\n\tionViewDidLoad() {\n\t\tthis.canvas = this.canvasE.nativeElement;\n\t\tthis.mix = this.mixE.nativeElement;\n\t\tthis.btnBox = this.btnBoxE.nativeElement;\n\t}\n\te(i) {\n\t\treturn i._elementRef.nativeElement\n\t}\n\tgetData() {\n\t\tconsole.clear();\n\t\tvar msg = this.text.nativeElement.textContent;\n\t\tmsg = this.knowledge.getReplace(msg);\n\t\tthis.loading = true;\n\t\tthis.painter.clear(this.canvas);\n\t\tthis.text.nativeElement.blur();\n\t\tthis.http.post(msg).subscribe(data => {\n\t\t\tconsole.log(data);\n\t\t\tvar p=this.deepCopy(data[\"items\"]);\n\t\t\tconsole.log(p)\n\t\t\t// this.paragraph = this.knowledge.getRestore(p);\n\t\t\tthis.paragraph =data[\"items\"];\n\t\t\tthis.loading = false;\n\t\t\tthis.received = true;\n\t\t\tthis.handleData(data[\"items\"]);\n\t\t\tthis.sentence.receiveJson(data[\"items\"]);\n\t\t})\n\t}\n\thandleData(data) {\n\t\tsetTimeout(() => {\n\t\t\tvar result = this.buttons._results;\n\t\t\tthis.painter.resize(this.canvas, this.btnBox);\n\t\t\tresult.map((i) => {\n\t\t\t\tvar child = this.e(i);\n\t\t\t\tif (child.dataset.head != 0) {\n\t\t\t\t\tvar parent = this.findParent(child.dataset.head);\n\t\t\t\t\tvar start = this.getPoint(child);\n\t\t\t\t\tvar end = this.getPoint(parent);\n\t\t\t\t\tvar center = (start + end) / 2;\n\t\t\t\t\tthis.painter.draw(this.canvas, start, center, end);\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.code.create(data);\n\t\t}, 100);\n\t}\n\tskip(head) {\n\t\tvar parent = this.findParent(head);\n\t\tif (parent) parent.scrollIntoView({\n\t\t\tbehavior: \"smooth\"\n\t\t});\n\t}\n\tfindParent(head) {\n\t\tvar parent = this.buttons._results.filter((i) => {\n\t\t\tvar button = this.e(i);\n\t\t\treturn button.dataset.id == head;\n\t\t});\n\t\treturn parent.length ? this.e(parent[0]) : null;\n\t}\n\tgetPoint(button) {\n\t\tvar left = button.offsetLeft;\n\t\tvar width = button.offsetWidth;\n\t\tvar centerPoint = left + width / 2;\n\t\treturn centerPoint;\n\t}\n\tdeepCopy(source,bool=true){\n\t\tvar sourceCopy;\n\t\tif(bool) sourceCopy = [];\n\t\telse sourceCopy = {};\n\t\tfor (var item in source){\n\t\t\tsourceCopy[item] = typeof source[item] === 'object' ? this.deepCopy(source[item],false) : source[item];\n\t\t}\n\t\treturn sourceCopy;\n\t}\n\tpresentToast(message) {\n\t\tconst toast = this.toastCtrl.create({\n\t\t\tmessage: message,\n\t\t\tduration: 3000\n\t\t});\n\t\ttoast.present();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ai/ai.ts"],"sourceRoot":""}